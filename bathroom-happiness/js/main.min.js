var isMobile={Windows:function(){return/IEMobile/i.test(navigator.userAgent)},Android:function(){return/Android/i.test(navigator.userAgent)},BlackBerry:function(){return/BlackBerry/i.test(navigator.userAgent)},iOS:function(){return/iPhone|iPad|iPod/i.test(navigator.userAgent)},any:function(){return isMobile.Android()||isMobile.BlackBerry()||isMobile.iOS()||isMobile.Windows()}},isIE=function(){var a=window.navigator.userAgent,b=a.indexOf("MSIE");return b>0?parseInt(a.substring(b+5,a.indexOf(".",b))):navigator.userAgent.match(/Trident\/7\./)?11:!1},playerManager={players:{},active:"",activate:function(a){this.active=a},getActive:function(){return this.players[this.active]},add:function(a,b){this.players[b.container]={player:a,settings:b}},play:function(a){var b=this.players[a].player,c=this.players[a].settings;"undefined"!=typeof b.playVideo&&(c.mute&&b.mute(),b.playVideo())},stop:function(a){if("undefined"!=typeof a){var b=this.players[a].player;"undefined"!=typeof b.stopVideo?b.stopVideo():this.getActive().settings.autoplay=!1}else $.each(player.obj,function(a){"undefined"!=typeof player.obj[a].player.stopVideo&&player.obj[a].player.stopVideo()})},onChangeState:function(a){var b=a.target.c.id,c=this.players[b];a.data===YT.PlayerState.ENDED&&1==c.settings.loop&&this.players[c.settings.container].player.playVideo(),a.data===YT.PlayerState.PLAYING&&"function"==typeof c.settings.onPlaying&&c.settings.onPlaying(),a.data===YT.PlayerState.PAUSED&&"function"==typeof c.settings.onPaused&&c.settings.onPaused(),a.data===YT.PlayerState.BUFFERING&&"function"==typeof c.settings.onBuffering&&c.settings.onBuffering(),a.data===YT.PlayerState.ENDED&&"function"==typeof c.settings.onEnded&&c.settings.onEnded()},exists:function(a){return"undefined"!=typeof this.players[a]?!0:!1},remove:function(a){}},player={settings:{container:"",videoId:"",playerVars:{showinfo:0,modestbranding:0,rel:0},autoplay:!1,loop:!1,mute:!1,onReady:function(){},onEnded:function(){},onPaused:function(){},onBuffering:function(){},onPlaying:function(){}},ready:!1,obj:{},init:function(a){this.settings=$.extend({},this.settings,a);var b=this;if("undefined"==typeof YT||"undefined"==typeof YT.Player){window.onYouTubeIframeAPIReady=function(){playerManager.add(b.loadPlayer(),a)};var c=document.createElement("script");c.src="https://www.youtube.com/iframe_api";var d=document.getElementsByTagName("script")[0];d.parentNode.insertBefore(c,d)}else playerManager.exists(this.settings.container)?playerManager.play(this.settings.container):playerManager.add(this.loadPlayer(),a)},loadPlayer:function(){playerManager.activate(this.settings.container);var a={videoId:this.settings.videoId,width:790,height:444,playerVars:this.settings.playerVars,events:{onReady:function(a){var b=a.target.c.id,c=playerManager.players[b];if(1!=c.settings.autoplay||isMobile.any()||("undefined"!=typeof c.settings.mute?playerManager.play(c.settings.container,c.settings.mute):playerManager.play(c.settings.container)),"function"==typeof c.settings.onReady){var d=c.settings.onReady;setTimeout(function(){d()},500)}$(window).resize()},onStateChange:function(a){playerManager.onChangeState(a)}}};return new YT.Player(player.settings.container,a)},play:function(a,b){var c=player.obj[a].player;"undefined"!=typeof c.playVideo&&("undefined"!=typeof b&&b&&c.mute(),c.playVideo())},stop:function(a){if("undefined"!=typeof a){var b=player.obj[a].player;"undefined"!=typeof b.stopVideo?b.stopVideo():player.autoplay=!1}else $.each(player.obj,function(a){"undefined"!=typeof player.obj[a].player.stopVideo&&player.obj[a].player.stopVideo()})}},bathroomHappiness={init:function(){1==isMobile.any()?$("body").addClass("mobile"):$("body").addClass("desktop"),$("body").hasClass("homepage")&&this.homepage(),$("body").hasClass("inspiration")&&this.inspiration(),$("body").hasClass("trends")&&this.trends(),$("body").hasClass("water-therapy")&&this.waterTherapy()},homepage:function(){$(".subscribe-form").validate(),$(".panel-slideshow").each(function(){var a=$(this).find(".slideshow-buttons");$(this).find(".slideshow-container").slick({appendArrows:a,responsive:[{breakpoint:768,settings:{slidesToShow:2,slidesToScroll:2,infinite:!0}},{breakpoint:460,settings:{slidesToShow:1,slidesToScroll:1,infinite:!0}}]})}),$(".panel-slideshow").each(function(){var a=$(this).data("section");$(this).find(".slideshow-container a").on("mouseover",function(){$("."+a).addClass("hover")}).on("mouseout",function(){$("."+a).removeClass("hover")})})},inspiration:function(){var a=$(".block.water-therapy .video").data("video");if($(window).on("resize",function(){var a=$(".blocks .water-therapy .content").height(),b=16*a/9;$("#water-therapy-video").width(b),$("#water-therapy-video").height(a+200)}).resize(),isMobile.any())$("#water-therapy-video").addClass("ready"),isMobile.any()&&$("#water-therapy-video").remove();else{var b="water-therapy-video";if(a){var c={showinfo:0,modestbranding:0,rel:0,loop:1,mute:1};player.init({container:b,videoId:a,autoplay:1,onReady:function(){$("#water-therapy-video").parent().parent().addClass("ready"),$("#water-therapy-video").addClass("ready")},playerVars:c})}}},trends:function(){},waterTherapy:function(){if($("#water-therapy .slides").slick({arrows:!1,dots:!0}),$(".submenu button").on("click",function(){$(".submenu li").removeClass("active"),$(this).parent().addClass("active");var a=$(this).text().toLowerCase();$("#water-therapy").attr("class",a);var b=["therapeutic","relaxation","rejuvenation"];$.each(b,function(b,c){c!==a&&playerManager.stop("water-therapy-"+a+"-video")});var c="water-therapy-therapeutic-video",d=$("#"+c+"-wrap").data("video");if(d){var e={showinfo:0,modestbranding:0,rel:0,controls:0};player.init({container:c,videoId:d,autoplay:1,loop:1,mute:1,onReady:function(){$("#"+c).parent().parent().addClass("ready"),$("#"+c).addClass("ready")},playerVars:e})}}),$(window).on("resize",function(){var a=$("#banner .banner").width(),b=9*a/16;$("#water-therapy-video").width(a),$("#water-therapy-video").height(b),b=$("#banner .banner").height();var a=16*b/9;$("#water-therapy-full-video").height(b),$("#water-therapy-full-video").width(a);var a=$("#water-therapy .videos").width(),b=9*a/16;$("#water-therapy .videos figure").width(a),$("#water-therapy .videos figure").height(b)}).resize(),isMobile.any())$("#water-therapy-video").addClass("ready"),isMobile.any()&&$("#water-therapy-video").remove(),$("#water-therapy-therapeutic-video").addClass("ready"),isMobile.any()&&$("#water-therapy-therapeutic-video").remove();else{var a="water-therapy-video",b=$("#banner .banner .video").data("video");if(b){var c={showinfo:0,modestbranding:0,rel:0,controls:0};player.init({container:a,videoId:b,autoplay:1,loop:1,mute:1,onReady:function(){$("#water-therapy-video").parent().parent().addClass("ready"),$("#water-therapy-video").addClass("ready");var a="water-therapy-therapeutic-video",b=$("#"+a+"-wrap").data("video");if(b){var c={showinfo:0,modestbranding:0,rel:0,controls:0};player.init({container:a,videoId:b,autoplay:1,loop:1,mute:1,onReady:function(){$("#"+a).parent().parent().addClass("ready"),$("#"+a).addClass("ready")},playerVars:c})}},playerVars:c})}}$("#banner .play-full-video").on("click",function(){$("#water-therapy-full-video").show();var a=$(this).data("video"),b="water-therapy-full-video";if(a){var c={showinfo:0,modestbranding:0,rel:0};player.init({container:b,videoId:a,autoplay:1,loop:!1,onReady:function(){$("#water-therapy-full-video").addClass("ready")},onPlaying:function(){$("#water-therapy-full-video").show(),console.log("PLAYING")},onEnded:function(){$("#water-therapy-full-video").fadeOut(0),console.log("ended")},onPaused:function(){$("#water-therapy-full-video").fadeOut(0),console.log("paused")},playerVars:c}),$("#water-therapy-full-video").show()}})}};!function(a){a(function(){bathroomHappiness.init()})}(jQuery);