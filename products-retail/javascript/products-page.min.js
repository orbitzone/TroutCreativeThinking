$(document).ready(function(){product_pages.init()});var product_pages={init:function(){var a=$("#product-pages").data("section");"function"==typeof this[a]&&this[a]()},checkoutCart:function(){$("input[type=radio]:checked").each(function(){$("label[for='"+$(this).attr("id")+"']").addClass("selected")}),$("input[type=radio]").change(function(){$("input[type=radio][name="+$(this).attr("name")+"]").each(function(){$(this).is(":checked")?$("label[for='"+$(this).attr("id")+"']").addClass("selected"):$("label[for='"+$(this).attr("id")+"']").removeClass("selected")})}),$(".action-pickup-address-change").click(function(){$(".action-pickup-address-change").fadeOut("fast",function(){$(".action-pickup-address-cancel").fadeIn("fast"),$(".action-pickup-address-cancel").addClass("active"),$(".action-pickup-address-change").removeClass("active")}),$(".branch-info-autocomplete").fadeIn("fast")}),$(".action-pickup-address-cancel").click(function(){$(".action-pickup-address-cancel").fadeOut("fast",function(){$(".action-pickup-address-change").fadeIn("fast"),$(".action-pickup-address-change").addClass("active"),$(".action-pickup-address-cancel").removeClass("active")}),$(".branch-info-autocomplete").fadeOut("slow",function(){$("#pickupbranch-results").html("")})}),$("#pickup_branch").focusin(function(){if(0==$(this).val().length){var a=$("#pickup_branch").val(),b=new RegExp(a,"i"),c="",d=0;$("#pickup_branch").removeClass("error"),$.getJSON("data/nearestpickupbranch.json",function(a){$.each(a,function(a,e){-1!=e.branchname.search(b)&&(c+='<div class="one-result">',c+='<span class="branch-name">',c+=e.branchname,c+="</span>",c+='<span class="branch-address">',c+=e.address,c+="</span>",c+='<span class="branch-phone">',c+=e.phone,c+="</span>",c+="</div>",d++)}),c=d?"<header>Nearest Stores</header>"+c:"<header>Nothing found</header>",$("#pickupbranch-results").html(c),$("#pickupbranch-results").addClass("active"),$(".one-result").click(function(){$("#branchinfo-details").html('<h6 class="branch-name">'+$(this).children(".branch-name").html()+"</h6><p>"+$(this).children(".branch-address").html()+"</p><p>"+$(this).children(".branch-phone").html()+"</p>"),$("#branchinfo-actions").addClass("action-change"),$("#pickup_branch").val($(this).children(".branch-name").html()),$(".branch-info-autofill").addClass("active"),$("#pickupbranch-results").html(""),$("#pickupbranch-results").removeClass("active"),$(".branch-info-autocomplete").fadeOut("slow"),$(".action-pickup-address-cancel").fadeOut("fast",function(){$(".action-pickup-address-change").fadeIn("fast"),$(".action-pickup-address-change").addClass("active"),$(".action-pickup-address-cancel").removeClass("active")})})})}}),$("#pickup_branch").keyup(function(){if($(this).val().length>0){var a=$("#pickup_branch").val(),b=new RegExp(a,"i"),c="",d=0;$("#pickup_branch").removeClass("error"),$.getJSON("data/searchpickupbranch.json",function(a){$.each(a,function(a,e){-1!=e.branchname.search(b)&&(c+='<div class="one-result">',c+='<span class="branch-name">',c+=e.branchname,c+="</span>",c+='<span class="branch-address">',c+=e.address,c+="</span>",c+='<span class="branch-phone">',c+=e.phone,c+="</span>",c+="</div>",d++)}),c=d?"<header>Nearest Stores</header>"+c:"<header>Nothing found</header>",$("#pickupbranch-results").html(c),$("#pickupbranch-results").addClass("active"),$(".one-result").click(function(){$("#branchinfo-details").html('<h6 class="branch-name">'+$(this).children(".branch-name").html()+"</h6><p>"+$(this).children(".branch-address").html()+"</p><p>"+$(this).children(".branch-phone").html()+"</p>"),$("#branchinfo-actions").addClass("action-change"),$("#pickup_branch").val($(this).children(".branch-name").html()),$(".branch-info-autofill").addClass("active"),$("#pickupbranch-results").html(""),$("#pickupbranch-results").removeClass("active"),$(".branch-info-autocomplete").fadeOut("slow"),$(".action-pickup-address-cancel").fadeOut("fast",function(){$(".action-pickup-address-change").fadeIn("fast"),$(".action-pickup-address-change").addClass("active"),$(".action-pickup-address-cancel").removeClass("active")})})})}else 0==$(this).val().length?($("#pickupbranch-results").removeClass("active"),$("#pickupbranch-results").html("")):($("#pickupbranch-results").addClass("active"),$("#pickupbranch-results").html(""))}),$("#receiving_date").datepicker({dateFormat:"DD, dd M yy",minDate:0}),$("#anim").change(function(){$("#receiving_date").datepicker("option","showAnim","fadeIn")}),$("#product-pages select").selectric(),$.getJSON("data/pickupcontacts.json",function(a){var b="";$.each(a,function(a,c){b+="<option value='"+c.value+"' data-name='"+c.name+"' data-phone='"+c.phone+"'>",b+=c.name,b+="</option>"}),$("#pickup_previouscontact").append(b).selectric()}),$("#pickup_previouscontact").change(function(){$("#pickup_name").val($(this).find(":selected").data("name")),$("#pickup_phone").val($(this).find(":selected").data("phone"))}),$(".action-enter-new-contact").click(function(){$("#pickup_name").val(""),$("#pickup_phone").val("")}),$.getJSON("data/deliveryaddress.json",function(a){var b="";$.each(a,function(a,c){b+="<option value='"+c.value+"' ",b+="data-name='"+c.name+"' ",b+="data-streetaddress='"+c.streetaddress+"' ",b+="data-suburb='"+c.suburb+"' ",b+="data-state='"+c.state+"' ",b+="data-postcode='"+c.postcode+"' ",b+="data-contactname='"+c.contactname+"' ",b+="data-phone='"+c.phone+"' ",b+=">",b+=c.name,b+="</option>"}),$("#receiving_previousaddress").append(b).selectric()}),$("#receiving_previousaddress").change(function(){$("#receiving_address").val($(this).find(":selected").data("streetaddress")),$("#receiving_suburb").val($(this).find(":selected").data("suburb")),$("#receiving_state").val($(this).find(":selected").data("state")).selectric("refresh"),$("#receiving_postcode").val($(this).find(":selected").data("postcode")),$("#receiving_name").val($(this).find(":selected").data("contactname")),$("#receiving_phone").val($(this).find(":selected").data("phone")),$("#receiving_address,#receiving_suburb,#receiving_state,#receiving_postcode,#receiving_name,#receiving_phone").addClass("valid").removeClass("error")}),$("#checkout-cart").validate({errorElement:"span",rules:{details_postcode:{required:!0,minlength:4,maxlength:4},receiving_postcode:{required:!0,minlength:4,maxlength:4}},messages:{details_postcode:{required:"This field is required.",minlength:jQuery.validator.format("Requires 4 digits."),maxlength:jQuery.validator.format("Requires 4 digits.")},receiving_postcode:{required:"This field is required.",minlength:jQuery.validator.format("Requires 4 digits."),maxlength:jQuery.validator.format("Requires 4 digits.")}}}),$(".action-goto-step1.clickable").click(function(){$("#order-details .form-section").fadeIn("slow",function(){$("html, body").animate({scrollTop:$("#checkout-cart").offset().top},500)}),$("#receiving-goods .form-section").hide(),$("#payment-checkout .form-section").hide(),$("#steps-indicator2").removeClass("clickable"),$("#steps-indicator3").removeClass("clickable")}),$(".action-goto-step2.clickable").click(function(){$(this).hasClass("go-back")?($("#order-details .form-section").hide(),$("#receiving-goods .form-section").fadeIn("slow",function(){$("html, body").animate({scrollTop:$("#checkout-cart").offset().top},500)}),$("#payment-checkout .form-section").hide(),$("#steps-indicator2").addClass("clickable"),$("#steps-indicator3").removeClass("clickable"),$(".gen-error").fadeOut()):$("#checkout-cart").valid()?($("#order-details .form-section").hide(),$("#receiving-goods .form-section").fadeIn("slow",function(){$("html, body").animate({scrollTop:$("#checkout-cart").offset().top},500)}),$("#payment-checkout .form-section").hide(),$("#steps-indicator2").addClass("clickable"),$("#steps-indicator3").removeClass("clickable"),$(".gen-error").fadeOut()):($(".gen-error.gen-error1").fadeIn(),$("html, body").animate({scrollTop:$("#order-details").offset().top},500))}),$(".action-goto-step3.clickable").click(function(){$("#checkout-cart").valid()?($("#order-details .form-section").hide(),$("#receiving-goods .form-section").hide(),$("#payment-checkout .form-section").fadeIn("slow",function(){$("html, body").animate({scrollTop:$("#checkout-cart").offset().top},500)}),$("#steps-indicator3").addClass("clickable"),$(".gen-error").fadeOut(),$("#steps-indicator2").addClass("clickable"),$("#steps-indicator2").addClass("go-back"),$("#steps-indicator3").addClass("clickable")):($(".gen-error.gen-error2").fadeIn(),$("html, body").animate({scrollTop:$("#order-details").offset().top},500))}),$("#payment_paymenttype").change(function(){"directdebit"===$(this).find(":selected").val()?($("#credit-card-choice").hide(),$("#direct-debit-choice").fadeIn("slow")):"creditcard"===$(this).find(":selected").val()&&($("#direct-debit-choice").hide(),$("#credit-card-choice").fadeIn("slow"))}),$("#final-submit-button").click(function(){$("#checkout-cart").valid()?$(".gen-error.gen-error3").fadeOut():($(".gen-error.gen-error3").fadeIn(),$("html, body").animate({scrollTop:$("#receiving-goods").offset().top},500))}),$(".action-enter-new-address").click(function(){$(".enter-new-address").addClass("active"),$(".select-previous-address").removeClass("active"),$("#delivery-address .enter-new-address-text").addClass("active"),$("#delivery-address .previous-address-text").removeClass("active"),$("#delivery-address .inner-form-section").fadeIn("slow"),$("#delivery-address .pop-title").fadeIn("slow"),$("#receiving_previousaddress,#receiving_address,#receiving_suburb,#receiving_postcode,#receiving_name,#receiving_phone").val("").removeClass("valid").removeClass("error"),$("#receiving_state").val("VIC").selectric("refresh").removeClass("valid").removeClass("error"),$("#receiving_previouscontact").val("").selectric("refresh").removeClass("valid").removeClass("error")}),$("#receiving_previousaddress").change(function(){$(".select-previous-address").addClass("active"),$(".enter-new-address").removeClass("active"),$("#delivery-address .previous-address-text").addClass("active"),$("#delivery-address .enter-new-address-text").removeClass("active"),$("#delivery-address .pop-title").fadeIn("slow"),$("#delivery-address .inner-form-section").fadeIn("slow")}),$("input[name=receiving_receivegoods]").click(function(){"delivery"==this.value&&($("#pickup-details").fadeOut("normal",function(){$("#delivery-details").fadeIn("normal")}),$("#order-comments").fadeIn("slow"),$(".delivery-button").addClass("active"),$(".pickup-button").removeClass("active")),"pickup"==this.value&&($("#delivery-details").fadeOut("normal",function(){$("#pickup-details").fadeIn("normal")}),$("#order-comments").fadeIn("slow"),$(".delivery-button").removeClass("active"),$(".pickup-button").addClass("active"))}),$(".mobile-open-cart-item").click(function(){$(window).width()<768&&($(".order-item-wrap").fadeToggle("slow"),$(this).toggleClass("active"))}),$(window).resize(function(){$(window).width()>767?($(".order-item-wrap").show(),$(this).removeClass("active")):$(window).width()>747&&($(this).hasClass("active")||$(".order-item-wrap").hide())}),$("input[name=payment_card]").click(function(){"visa"==this.value&&($(".mastercard-button").removeClass("active"),$(".amex-button").removeClass("active"),$(".visa-button").addClass("active")),"mastercard"==this.value&&($(".mastercard-button").addClass("active"),$(".amex-button").removeClass("active"),$(".visa-button").removeClass("active")),"amex"==this.value&&($(".mastercard-button").removeClass("active"),$(".amex-button").addClass("active"),$(".visa-button").removeClass("active"))})},shoppingCart:function(){$(".radio-button").click(function(){$(this).parent(".radiolabel-set").find(".radio-button").removeClass("active"),$(this).addClass("active")}),$("#product-pages select").selectric(),$(".demo-recommendation").hide(),$(".action-add-product").click(function(){var a=$(this);a.hasClass("added")||a.find(".fa-plus").fadeOut("fast",function(){a.find(".fa-check").fadeIn("fast",function(){a.addClass("added"),a.hasClass("demo-item1")?$(".demo-recommendation1").fadeIn("slow"):a.hasClass("demo-item2")?$(".demo-recommendation2").fadeIn("slow"):a.hasClass("demo-item3")?$(".demo-recommendation3").fadeIn("slow"):a.hasClass("demo-item4")&&$(".demo-recommendation4").fadeIn("slow")})})}),$(".action-remove-item").click(function(){var a=$(this).data("productcode");$(".one-product-wrapper[data-productcode='"+a+"']").fadeOut("slow",function(){$(".one-product-wrapper[data-productcode='"+a+"']").remove()})}),$("#save-as-section .save-as-main-button").click(function(){$(".save-as-list").slideToggle("slow")}),$(".one-recommendation .product-details").matchHeight(),$(".product-suggestion .open-close-button").click(function(){$(this).hasClass("opened")?($(".product-suggestion .suggestion-item-content").slideUp(),$(".product-suggestion .open-close-button .fa-minus").fadeOut("fast",function(){$(".product-suggestion .open-close-button .fa-plus").fadeIn("fast",function(){$(".product-suggestion .open-close-button").removeClass("opened")})})):($(".product-suggestion .suggestion-item-content").slideDown(),$(".product-suggestion .open-close-button .fa-plus").fadeOut("fast",function(){$(".product-suggestion .open-close-button .fa-minus").fadeIn("fast",function(){$(".product-suggestion .open-close-button").addClass("opened")})}))})}};